<nav class="navbar">
  <div class="logo">ShopSphere</div>
  
  <ul class="nav-links">
    <li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Home</a></li>
    <li><a routerLink="/products" routerLinkActive="active">Products</a></li>
    
    <!-- 1) No one logged in: Home, Products, Login, Register -->
    <ng-container *ngIf="!currentUser">
      <li><a routerLink="/login" routerLinkActive="active">Login</a></li>
      <li><a routerLink="/register" routerLinkActive="active">Register</a></li>
    </ng-container>

    <!-- 2) Admin logged in: Home, Products, Admin Dashboard, Profile, Login -->
    <ng-container *ngIf="isAdmin">
      <li>
        <a routerLink="/admin" routerLinkActive="active" class="admin-link">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M3 3h18v18H3zM9 9h6v6H9z"/>
            <path d="M9 3v6M15 3v6M9 15v6M15 15v6"/>
          </svg>
          Dashboard
        </a>
      </li>
      <li><a routerLink="/profile" routerLinkActive="active">Profile</a></li>
      <li><a routerLink="/login" routerLinkActive="active">Login</a></li>
    </ng-container>

    <!-- 3) Customer logged in: Home, Products, Profile, Cart, Login -->
    <ng-container *ngIf="currentUser && !isAdmin">
      <li><a routerLink="/profile" routerLinkActive="active">Profile</a></li>
      <li><a routerLink="/cart" routerLinkActive="active" class="cart-link">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="9" cy="21" r="1"/>
          <circle cx="20" cy="21" r="1"/>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
        Cart
        <span class="cart-count" *ngIf="cartCount > 0">{{ cartCount }}</span>
      </a></li>
      <li><a routerLink="/login" routerLinkActive="active">Login</a></li>
    </ng-container>
  </ul>
</nav>
